<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>superwin1</title>
<style>
  body { background-color: #8B0000; color: white; font-family: Arial, sans-serif; margin: 0; padding: 0; }
  header { background-color: #5a0000; padding: 10px 20px; text-align: center; font-size: 24px; font-weight: bold; }
  main { padding: 20px; max-width: 700px; margin: auto; }
  label { display: block; margin: 10px 0 5px; }
  input[type="text"], input[type="password"], select, input[type="number"] { width: 100%; padding: 8px; margin-bottom: 15px; border-radius: 5px; border: none; }
  button { background-color: #a00000; border: none; color: white; padding: 10px 15px; cursor: pointer; border-radius: 5px; }
  button:hover { background-color: #d20000; }
  .warning { background: #ff6666; padding: 10px; margin-bottom: 15px; border-radius: 5px; color: #330000; font-weight: bold; }
  footer { background-color: #5a0000; color: #ccc; text-align: center; padding: 10px; position: fixed; width: 100%; bottom: 0; }
  .section { border: 1px solid #550000; padding: 10px; margin-bottom: 20px; border-radius: 5px; }
  .balance { font-weight: bold; font-size: 20px; margin-top: 10px; text-align: center; }
  
  /* ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
  .tabs { display: flex; justify-content: center; margin-bottom: 15px; }
  .tab-button {
    background: #5a0000;
    border: none;
    color: white;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px 5px 0 0;
    margin: 0 5px;
    font-weight: bold;
  }
  .tab-button.active {
    background: #d20000;
  }
  .tab-content { 
    background: #5a0000; 
    padding: 15px; 
    border-radius: 0 5px 5px 5px; 
    min-height: 320px;
  }
  
  /* Ù„Ø¹Ø¨Ø© Ø§Ù„Ø³Ù„ÙˆØª - Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ø¨ÙƒØ±Ø§Øª */
  .reels {
    display: flex;
    justify-content: center;
    margin-bottom: 10px;
  }
  .reel {
    width: 70px;
    height: 70px;
    margin: 0 5px;
    background: #fff;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
    user-select: none;
    transition: transform 0.5s ease;
  }
  .result { font-size: 18px; font-weight: bold; margin-top: 10px; text-align:center; }
  
  /* ØªØ£Ø«ÙŠØ± Ø¯ÙˆØ±Ø§Ù† */
  .spinning {
    animation: spin 0.6s linear infinite;
  }
  @keyframes spin {
    0% { transform: rotateX(0deg); }
    100% { transform: rotateX(360deg); }
  }
</style>
</head>
<body>
<header>superwin1</header>
<main>

  <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <div id="loginDiv">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <div class="warning" id="warningMessage" style="display:none;">Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¥Ø°Ø§ ØªØ¬Ø§ÙˆØ²Øª 10 Ù…Ù„ÙŠÙˆÙ†.</div>
    <label for="username">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
    <input type="text" id="username" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
    <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:</label>
    <input type="password" id="password" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" />
    <label for="role">Ø§Ù„Ø¯ÙˆØ±:</label>
    <select id="role">
      <option value="user">Ù…Ø³ØªØ®Ø¯Ù…</option>
      <option value="admin">Ø£Ø¯Ù…Ù†</option>
    </select>
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
  </div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† -->
  <div id="adminPanel" style="display:none;">
    <h2>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù†</h2>

    <div class="section">
      <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
      <label for="winRate">Ù†Ø³Ø¨Ø© Ø§Ù„ÙÙˆØ² (%):</label>
      <input type="number" id="winRate" min="0" max="100" value="50" />
      <label for="lossRate">Ù†Ø³Ø¨Ø© Ø§Ù„Ø®Ø³Ø§Ø±Ø© (%):</label>
      <input type="number" id="lossRate" min="0" max="100" value="50" />
      <button onclick="saveSettings()">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
    </div>

    <div class="section">
      <h3>Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù…</h3>
      <input type="text" id="blockUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø­Ø¸Ø±" />
      <button onclick="blockUser()">Ø­Ø¸Ø±</button>
      <div id="blockedUsersList"></div>
    </div>

    <div class="section">
      <h3>Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù…</h3>
      <input type="text" id="chargeUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø´Ø­Ù†" />
      <input type="number" id="chargeAmount" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº" min="0.2" step="0.01" />
      <button onclick="chargeUserBalance()">Ø´Ø­Ù†</button>
    </div>

    <div class="section">
      <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯</h3>
      <input type="text" id="newUserUsername" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯" />
      <input type="password" id="newUserPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" />
      <button onclick="createUser()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
    </div>

    <button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
  </div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
  <div id="userPanel" style="display:none;">
    <h2>Ù…Ø±Ø­Ø¨Ø§ <span id="displayUser"></span></h2>
    <div class="balance">Ø§Ù„Ø±ØµÙŠØ¯: <span id="userBalance">0.00</span> Ø¯ÙŠÙ†Ø§Ø±</div>
    <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù„Ø¹Ø¨ Ø¨Ø±Ù‡Ø§Ù†Ø§Øª Ù…Ù† 0.20 Ø¥Ù„Ù‰ 50.00</p>
    <button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

    <!-- ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
    <div class="tabs">
      <button class="tab-button active" onclick="switchTab('fruits')">Ø³Ù„ÙˆØª Ø§Ù„ÙÙˆØ§ÙƒÙ‡</button>
      <button class="tab-button" onclick="switchTab('dragon')">Ø³Ù„ÙˆØª Ø§Ù„ØªÙ†ÙŠÙ†</button>
      <button class="tab-button" onclick="switchTab('joker')">Ø³Ù„ÙˆØª Ø§Ù„Ø¬ÙˆÙƒØ±</button>
    </div>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->

    <!-- Ø³Ù„ÙˆØª Ø§Ù„ÙÙˆØ§ÙƒÙ‡ (Hot Fruits 20 style) -->
    <div id="fruits" class="tab-content">
      <label for="betFruits">Ø§Ø®ØªØ± Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†:</label>
      <select id="betFruits">
        <option value="0.20">0.20</option>
        <option value="1.00">1.00</option>
        <option value="5.00">5.00</option>
        <option value="10.00">10.00</option>
        <option value="20.00">20.00</option>
        <option value="50.00">50.00</option>
      </select>
      <button onclick="playFruits()">Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>

      <div class="gameslot">
        <div class="reels" id="fruitsReels">
          <div class="reel" id="fruitsReel1">ğŸ’</div>
          <div class="reel" id="fruitsReel2">ğŸ‹</div>
          <div class="reel" id="fruitsReel3">ğŸ‰</div>
          <div class="reel" id="fruitsReel4">ğŸ‡</div>
          <div class="reel" id="fruitsReel5">ğŸŠ</div>
        </div>
        <div class="result" id="fruitsResult"></div>
      </div>
    </div>

    <!-- Ø³Ù„ÙˆØª Ø§Ù„ØªÙ†ÙŠÙ† (Wild Dragon style) -->
    <div id="dragon" class="tab-content" style="display:none;">
      <label for="betDragon">Ø§Ø®ØªØ± Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†:</label>
      <select id="betDragon">
        <option value="0.20">0.20</option>
        <option value="1.00">1.00</option>
        <option value="5.00">5.00</option>
        <option value="10.00">10.00</option>
        <option value="20.00">20.00</option>
        <option value="50.00">50.00</option>
      </select>
      <button onclick="playDragon()">Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>

      <div class="gameslot">
        <div class="reels" id="dragonReels">
          <div class="reel" id="dragonReel1">ğŸ‰</div>
          <div class="reel" id="dragonReel2">ğŸ”¥</div>
          <div class="reel" id="dragonReel3">ğŸ²</div>
          <div class="reel" id="dragonReel4">ğŸŒªï¸</div>
          <div class="reel" id="dragonReel5">ğŸ’¥</div>
        </div>
        <div class="result" id="dragonResult"></div>
      </div>
    </div>

    <!-- Ø³Ù„ÙˆØª Ø§Ù„Ø¬ÙˆÙƒØ± (Lucky Joker 10 style) -->
    <div id="joker" class="tab-content" style="display:none;">
      <label for="betJoker">Ø§Ø®ØªØ± Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†:</label>
      <select id="betJoker">
        <option value="0.20">0.20</option>
        <option value="1.00">1.00</option>
        <option value="5.00">5.00</option>
        <option value="10.00">10.00</option>
        <option value="20.00">20.00</option>
        <option value="50.00">50.00</option>
      </select>
      <button onclick="playJoker()">Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>

      <div class="gameslot">
        <div class="reels" id="jokerReels">
          <div class="reel" id="jokerReel1">ğŸ­</div>
          <div class="reel" id="jokerReel2">ğŸ””</div>
          <div class="reel" id="jokerReel3">â­</div>
          <div class="reel" id="jokerReel4">ğŸ€</div>
          <div class="reel" id="jokerReel5">ğŸ’</div>
        </div>
        <div class="result" id="jokerResult"></div>
      </div>
    </div>

    <!-- ØªØºÙŠÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ -->
    <h3>ØªØºÙŠÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</h3>
    <label for="newUsername">ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
    <input type="text" id="newUsername" placeholder="Ø§Ø³Ù… Ø¬Ø¯ÙŠØ¯" />
    <label for="newPassword">ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:</label>
    <input type="password" id="newPassword" placeholder="ÙƒÙ„Ù…Ø© Ø³Ø± Ø¬Ø¯ÙŠØ¯Ø©" />
    <button onclick="changeAccount()">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
  </div>

</main>
<footer>Â© 2025 superwin1</footer>
<script>
  let users = {
    "admin": {password: "admin123", role: "admin", balance: 0, blocked: false},
    "user1": {password: "user123", role: "user", balance: 100, blocked: false}
  };
  let blockedUsers = [];
  let currentUser = null;
  let winRate = 50;
  let lossRate = 50;

  const fruitsSymbols = ["ğŸ’", "ğŸ‹", "ğŸ‰", "ğŸ‡", "ğŸŠ"];
  const dragonSymbols = ["ğŸ‰", "ğŸ”¥", "ğŸ²", "ğŸŒªï¸", "ğŸ’¥"];
  const jokerSymbols = ["ğŸ­", "ğŸ””", "â­", "ğŸ€", "ğŸ’"];

  // --- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage ---
  function loadData() {
    const loadedUsers = localStorage.getItem('superwin1_users');
    const loadedBlocked = localStorage.getItem('superwin1_blockedUsers');
    const loadedWinRate = localStorage.getItem('superwin1_winRate');
    const loadedLossRate = localStorage.getItem('superwin1_lossRate');
    if (loadedUsers) users = JSON.parse(loadedUsers);
    if (loadedBlocked) blockedUsers = JSON.parse(loadedBlocked);
    if (loadedWinRate) winRate = parseInt(loadedWinRate);
    if (loadedLossRate) lossRate = parseInt(loadedLossRate);
  }

  // --- Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage ---
  function saveData() {
    localStorage.setItem('superwin1_users', JSON.stringify(users));
    localStorage.setItem('superwin1_blockedUsers', JSON.stringify(blockedUsers));
    localStorage.setItem('superwin1_winRate', winRate);
    localStorage.setItem('superwin1_lossRate', lossRate);
  }

  loadData();

  // -- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ --
  function login() {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value;
    const role = document.getElementById("role").value;
    if (!users[username]) {
      alert("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
      return;
    }
    if (users[username].password !== password || users[username].role !== role) {
      alert("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø£Ùˆ Ø§Ù„Ø¯ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
      return;
    }
    if (users[username].blocked) {
      alert("Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø¸ÙˆØ±");
      return;
    }
    currentUser = username;
    if (role === "admin") {
      document.getElementById("loginDiv").style.display = "none";
      document.getElementById("adminPanel").style.display = "block";
      document.getElementById("winRate").value = winRate;
      document.getElementById("lossRate").value = lossRate;
      updateBlockedUsersList();
    } else {
      document.getElementById("loginDiv").style.display = "none";
      document.getElementById("userPanel").style.display = "block";
      document.getElementById("displayUser").innerText = currentUser;
      updateBalance();
      switchTab('fruits'); // Ø§Ø¨Ø¯Ø£ Ø¨Ù„Ø¹Ø¨Ø© Ø§Ù„ÙÙˆØ§ÙƒÙ‡ Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
      if (users[currentUser].balance > 10000000) {
        document.getElementById("warningMessage").style.display = "block";
      } else {
        document.getElementById("warningMessage").style.display = "none";
      }
    }
  }

  // -- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ --
  function logout() {
    currentUser = null;
    document.getElementById("loginDiv").style.display = "block";
    document.getElementById("adminPanel").style.display = "none";
    document.getElementById("userPanel").style.display = "none";
    document.getElementById("username").value = "";
    document.getElementById("password").value = "";
    document.getElementById("newUsername").value = "";
    document.getElementById("newPassword").value = "";
    document.getElementById("chargeUser").value = "";
    document.getElementById("chargeAmount").value = "";
    document.getElementById("newUserUsername").value = "";
    document.getElementById("newUserPassword").value = "";
    document.getElementById("blockUser").value = "";
    document.getElementById("warningMessage").style.display = "none";
    resetAllReels();
    clearAllResults();
  }

  // -- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù† --
  function saveSettings() {
    winRate = parseInt(document.getElementById("winRate").value);
    lossRate = parseInt(document.getElementById("lossRate").value);
    if (winRate + lossRate !== 100) {
      alert("ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ø¬Ù…ÙˆØ¹ Ù†Ø³Ø¨Ø© Ø§Ù„ÙÙˆØ² ÙˆØ§Ù„Ø®Ø³Ø§Ø±Ø© 100%");
      return;
    }
    saveData();
    alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª");
  }

  // -- Ø­Ø¸Ø± Ù…Ø³ØªØ®Ø¯Ù… --
  function blockUser() {
    const userToBlock = document.getElementById("blockUser").value.trim();
    if (!users[userToBlock]) {
      alert("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
      return;
    }
    users[userToBlock].blocked = true;
    if (!blockedUsers.includes(userToBlock)) {
      blockedUsers.push(userToBlock);
    }
    saveData();
    updateBlockedUsersList();
    alert("ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " + userToBlock);
  }

  function updateBlockedUsersList() {
    const listDiv = document.getElementById("blockedUsersList");
    if(blockedUsers.length === 0) {
      listDiv.innerHTML = "<b>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ø­Ø¸ÙˆØ±ÙŠÙ† Ø­Ø§Ù„ÙŠØ§Ù‹.</b>";
    } else {
      listDiv.innerHTML = "<b>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…Ø­Ø¸ÙˆØ±ÙŠÙ†:</b><br>" + blockedUsers.join(", ");
    }
  }

  // -- Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù… (ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø·) --
  function chargeUserBalance() {
    if (users[currentUser].role !== "admin") {
      alert("ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ù„Ùƒ Ø¨Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯");
      return;
    }
    const userToCharge = document.getElementById("chargeUser").value.trim();
    const amount = parseFloat(document.getElementById("chargeAmount").value);
    if (!users[userToCharge]) {
      alert("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯");
      return;
    }
    if (isNaN(amount) || amount <= 0) {
      alert("Ø£Ø¯Ø®Ù„ Ù…Ø¨Ù„Øº ØµØ§Ù„Ø­ Ù„Ù„Ø´Ø­Ù†");
      return;
    }
    users[userToCharge].balance += amount;
    saveData();
    alert("ØªÙ… Ø´Ø­Ù† " + amount.toFixed(2) + " Ø¯ÙŠÙ†Ø§Ø± Ø¥Ù„Ù‰ " + userToCharge);
  }

  // -- Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ --
  function createUser() {
    const newUser = document.getElementById("newUserUsername").value.trim();
    const newPass = document.getElementById("newUserPassword").value;
    if (newUser.length === 0 || newPass.length === 0) {
      alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø³Ø±");
      return;
    }
    if (users[newUser]) {
      alert("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹");
      return;
    }
    users[newUser] = {password: newPass, role: "user", balance: 0, blocked: false};
    saveData();
    alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯: " + newUser);
  }

  // -- ØªØºÙŠÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… --
  function changeAccount() {
    if (!currentUser) return;
    const newUsername = document.getElementById("newUsername").value.trim();
    const newPassword = document.getElementById("newPassword").value;
    if (newUsername.length === 0 && newPassword.length === 0) {
      alert("Ù„Ù… ØªØ¯Ø®Ù„ Ø£ÙŠ ØªØºÙŠÙŠØ±Ø§Øª");
      return;
    }

    if (newUsername.length > 0) {
      if (users[newUsername]) {
        alert("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹");
        return;
      }
      // Ù†Ù‚Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯
      users[newUsername] = {...users[currentUser]};
      delete users[currentUser];
      currentUser = newUsername;
      document.getElementById("displayUser").innerText = currentUser;
    }
    if (newPassword.length > 0) {
      users[currentUser].password = newPassword;
    }
    saveData();
    alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨");
    document.getElementById("newUsername").value = "";
    document.getElementById("newPassword").value = "";
  }

  // -- ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯ --
  function updateBalance() {
    if (!currentUser) return;
    document.getElementById("userBalance").innerText = users[currentUser].balance.toFixed(2);
    if (users[currentUser].balance > 10000000) {
      document.getElementById("warningMessage").style.display = "block";
    } else {
      document.getElementById("warningMessage").style.display = "none";
    }
  }

  // -- ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ --
  function switchTab(tabName) {
    const tabs = ['fruits', 'dragon', 'joker'];
    tabs.forEach(t => {
      document.getElementById(t).style.display = (t === tabName) ? 'block' : 'none';
      document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.toggle('active', btn.textContent.includes(tabName.charAt(0).toUpperCase() + tabName.slice(1)));
      });
    });
  }

  // -- Ø§Ù„Ù„Ø¹Ø¨: Ø³Ù„ÙˆØª Ø§Ù„ÙÙˆØ§ÙƒÙ‡ --
  function playFruits() {
    if (!currentUser) return alert("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
    const bet = parseFloat(document.getElementById("betFruits").value);
    if (bet < 0.2 || bet > 50) return alert("Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù† ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙŠÙ† 0.20 Ùˆ 50.00");
    if (users[currentUser].balance < bet) return alert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ù„Ø¹Ø¨");

    users[currentUser].balance -= bet;
    updateBalance();

    spinReels("fruitsReels", fruitsSymbols, 5, () => {
      // Ù†ØªÙŠØ¬Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ winRate
      const won = Math.random() * 100 < winRate;
      let multiplier = 0;
      if (won) {
        multiplier = 2 + Math.floor(Math.random() * 5); // Ù…Ø¶Ø§Ø¹Ù Ù…Ù† 2 Ø¥Ù„Ù‰ 6
        const winAmount = bet * multiplier;
        users[currentUser].balance += winAmount;
        saveData();
        updateBalance();
        document.getElementById("fruitsResult").innerText = `ÙØ²Øª! Ø§Ù„Ù…Ø¨Ù„Øº: ${winAmount.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø± (x${multiplier})`;
      } else {
        saveData();
        document.getElementById("fruitsResult").innerText = "Ù„Ù… ØªÙØ²ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
      }
    });
  }

  // -- Ø§Ù„Ù„Ø¹Ø¨: Ø³Ù„ÙˆØª Ø§Ù„ØªÙ†ÙŠÙ† --
  function playDragon() {
    if (!currentUser) return alert("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
    const bet = parseFloat(document.getElementById("betDragon").value);
    if (bet < 0.2 || bet > 50) return alert("Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù† ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙŠÙ† 0.20 Ùˆ 50.00");
    if (users[currentUser].balance < bet) return alert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ù„Ø¹Ø¨");

    users[currentUser].balance -= bet;
    updateBalance();

    spinReels("dragonReels", dragonSymbols, 5, () => {
      const won = Math.random() * 100 < winRate;
      let multiplier = 0;
      if (won) {
        multiplier = 3 + Math.floor(Math.random() * 4); // 3 Ø¥Ù„Ù‰ 6
        const winAmount = bet * multiplier;
        users[currentUser].balance += winAmount;
        saveData();
        updateBalance();
        document.getElementById("dragonResult").innerText = `ÙØ²Øª! Ø§Ù„Ù…Ø¨Ù„Øº: ${winAmount.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø± (x${multiplier})`;
      } else {
        saveData();
        document.getElementById("dragonResult").innerText = "Ù„Ù… ØªÙØ²ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
      }
    });
  }

  // -- Ø§Ù„Ù„Ø¹Ø¨: Ø³Ù„ÙˆØª Ø§Ù„Ø¬ÙˆÙƒØ± --
  function playJoker() {
    if (!currentUser) return alert("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
    const bet = parseFloat(document.getElementById("betJoker").value);
    if (bet < 0.2 || bet > 50) return alert("Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù† ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙŠÙ† 0.20 Ùˆ 50.00");
    if (users[currentUser].balance < bet) return alert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ù„Ø¹Ø¨");

    users[currentUser].balance -= bet;
    updateBalance();

    spinReels("jokerReels", jokerSymbols, 5, () => {
      const won = Math.random() * 100 < winRate;
      let multiplier = 0;
      if (won) {
        multiplier = 1 + Math.floor(Math.random() * 7); // 1 Ø¥Ù„Ù‰ 7
        const winAmount = bet * multiplier;
        users[currentUser].balance += winAmount;
        saveData();
        updateBalance();
        document.getElementById("jokerResult").innerText = `ÙØ²Øª! Ø§Ù„Ù…Ø¨Ù„Øº: ${winAmount.toFixed(2)} Ø¯ÙŠÙ†Ø§Ø± (x${multiplier})`;
      } else {
        saveData();
        document.getElementById("jokerResult").innerText = "Ù„Ù… ØªÙØ²ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
      }
    });
  }

  // -- Ø¯Ø§Ù„Ø© Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø¨ÙƒØ±Ø§Øª Ù…Ø¹ ØªØ£Ø«ÙŠØ± --
  function spinReels(containerId, symbolsArray, reelsCount, callback) {
    const container = document.getElementById(containerId);
    let spinsDone = 0;
    for (let i = 0; i < reelsCount; i++) {
      const reel = container.children[i];
      reel.classList.add("spinning");
      // Ø¨Ø¹Ø¯ ÙˆÙ‚Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠ ØªÙˆÙ‚ÙŠÙ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
      setTimeout(() => {
        reel.classList.remove("spinning");
        const sym = symbolsArray[Math.floor(Math.random() * symbolsArray.length)];
        reel.innerText = sym;
        spinsDone++;
        if (spinsDone === reelsCount) callback();
      }, 600 + Math.random() * 600);
    }
  }

  // -- Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙƒØ±Ø§Øª --
  function resetAllReels() {
    ["fruitsReels", "dragonReels", "jokerReels"].forEach(id => {
      const container = document.getElementById(id);
      if (!container) return;
      for(let i=0; i < container.children.length; i++) {
        container.children[i].innerText = "";
      }
    });
  }

  // -- Ù…Ø³Ø­ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù„Ø¹Ø¨ --
  function clearAllResults() {
    ["fruitsResult", "dragonResult", "jokerResult"].forEach(id => {
      const el = document.getElementById(id);
      if(el) el.innerText = "";
    });
  }

</script>
</body>
</html>
